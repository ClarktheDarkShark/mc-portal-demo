{"ast":null,"code":"import _objectSpread from\"/Users/christopherclark/Library/Mobile Documents/com~apple~CloudDocs/_Chris_Docs/Coding/mc-portal-demo/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// client/src/pages/DataCatalogue.js\nimport React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function DataCatalogue(){const[dataCatalogue,setDataCatalogue]=useState(null);// Track which categories are expanded (true) or collapsed (false)\nconst[openCategories,setOpenCategories]=useState({});useEffect(()=>{fetch('/api/repository/data').then(res=>res.json()).then(data=>{setDataCatalogue(data);// Initialize openCategories state to have all categories collapsed\nconst initialOpenState={};data.dataRepository.categories.forEach((_,index)=>{initialOpenState[index]=false;});setOpenCategories(initialOpenState);}).catch(err=>console.error('Error fetching Data Catalogue:',err));},[]);const toggleCategory=index=>{setOpenCategories(prev=>_objectSpread(_objectSpread({},prev),{},{[index]:!prev[index]}));};if(!dataCatalogue){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading Data Catalogue...\"});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'2rem',fontFamily:'Arial, sans-serif'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Data Catalogue\"}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Data Repository Categories\"}),dataCatalogue.dataRepository.categories.map((cat,catIndex)=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem',border:'1px solid #ccc',borderRadius:'8px',padding:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:0},children:cat.name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleCategory(catIndex),children:openCategories[catIndex]?'Hide Datasets':'Show Datasets'})]}),/*#__PURE__*/_jsx(\"p\",{children:cat.description}),openCategories[catIndex]&&/*#__PURE__*/_jsx(\"ul\",{style:{listStyleType:'none',paddingLeft:0},children:cat.datasets.map((dataset,dsIndex)=>/*#__PURE__*/_jsxs(\"li\",{style:{margin:'0.5rem 0',padding:'0.5rem',borderBottom:'1px solid #e0e0e0'},children:[/*#__PURE__*/_jsx(\"strong\",{children:dataset.name}),\" - \",dataset.description,' ',/*#__PURE__*/_jsx(\"a\",{href:dataset.link,target:\"_blank\",rel:\"noopener noreferrer\",style:{color:'#007bff'},children:\"[Link]\"})]},dsIndex))})]},catIndex))]}),dataCatalogue.dataReports&&/*#__PURE__*/_jsxs(\"section\",{style:{marginTop:'2rem'},children:[/*#__PURE__*/_jsx(\"h3\",{children:dataCatalogue.dataReports.name}),/*#__PURE__*/_jsx(\"p\",{children:dataCatalogue.dataReports.description}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"a\",{href:dataCatalogue.dataReports.link,target:\"_blank\",rel:\"noopener noreferrer\",style:{color:'#007bff'},children:\"[Link]\"})})]}),dataCatalogue.dataAPIs&&/*#__PURE__*/_jsxs(\"section\",{style:{marginTop:'2rem'},children:[/*#__PURE__*/_jsx(\"h3\",{children:dataCatalogue.dataAPIs.name}),/*#__PURE__*/_jsx(\"p\",{children:dataCatalogue.dataAPIs.description}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyleType:'none',paddingLeft:0},children:dataCatalogue.dataAPIs.endpoints.map((endpoint,index)=>/*#__PURE__*/_jsxs(\"li\",{style:{margin:'0.5rem 0',padding:'0.5rem',borderBottom:'1px solid #e0e0e0'},children:[/*#__PURE__*/_jsx(\"strong\",{children:endpoint.endpoint}),\": \",endpoint.description]},index))}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"a\",{href:dataCatalogue.dataAPIs.link,target:\"_blank\",rel:\"noopener noreferrer\",style:{color:'#007bff'},children:\"[Link]\"})})]})]});}export default DataCatalogue;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","DataCatalogue","dataCatalogue","setDataCatalogue","openCategories","setOpenCategories","fetch","then","res","json","data","initialOpenState","dataRepository","categories","forEach","_","index","catch","err","console","error","toggleCategory","prev","_objectSpread","children","style","padding","fontFamily","map","cat","catIndex","marginBottom","border","borderRadius","display","justifyContent","alignItems","cursor","margin","name","onClick","description","listStyleType","paddingLeft","datasets","dataset","dsIndex","borderBottom","href","link","target","rel","color","dataReports","marginTop","dataAPIs","endpoints","endpoint"],"sources":["/Users/christopherclark/Library/Mobile Documents/com~apple~CloudDocs/_Chris_Docs/Coding/mc-portal-demo/client/src/pages/DataCatalogue.js"],"sourcesContent":["// client/src/pages/DataCatalogue.js\n\nimport React, { useEffect, useState } from 'react';\n\nfunction DataCatalogue() {\n  const [dataCatalogue, setDataCatalogue] = useState(null);\n  // Track which categories are expanded (true) or collapsed (false)\n  const [openCategories, setOpenCategories] = useState({});\n\n  useEffect(() => {\n    fetch('/api/repository/data')\n      .then((res) => res.json())\n      .then((data) => {\n        setDataCatalogue(data);\n\n        // Initialize openCategories state to have all categories collapsed\n        const initialOpenState = {};\n        data.dataRepository.categories.forEach((_, index) => {\n          initialOpenState[index] = false;\n        });\n        setOpenCategories(initialOpenState);\n      })\n      .catch((err) => console.error('Error fetching Data Catalogue:', err));\n  }, []);\n\n  const toggleCategory = (index) => {\n    setOpenCategories((prev) => ({\n      ...prev,\n      [index]: !prev[index],\n    }));\n  };\n\n  if (!dataCatalogue) {\n    return <div>Loading Data Catalogue...</div>;\n  }\n\n  return (\n    <div style={{ padding: '2rem', fontFamily: 'Arial, sans-serif' }}>\n      <h2>Data Catalogue</h2>\n\n      {/* Data Repository Section */}\n      <section>\n        <h3>Data Repository Categories</h3>\n        {dataCatalogue.dataRepository.categories.map((cat, catIndex) => (\n          <div\n            key={catIndex}\n            style={{\n              marginBottom: '1rem',\n              border: '1px solid #ccc',\n              borderRadius: '8px',\n              padding: '1rem',\n            }}\n          >\n            <div\n              style={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                cursor: 'pointer',\n              }}\n            >\n              <h4 style={{ margin: 0 }}>{cat.name}</h4>\n              <button onClick={() => toggleCategory(catIndex)}>\n                {openCategories[catIndex] ? 'Hide Datasets' : 'Show Datasets'}\n              </button>\n            </div>\n            <p>{cat.description}</p>\n            {openCategories[catIndex] && (\n              <ul style={{ listStyleType: 'none', paddingLeft: 0 }}>\n                {cat.datasets.map((dataset, dsIndex) => (\n                  <li\n                    key={dsIndex}\n                    style={{\n                      margin: '0.5rem 0',\n                      padding: '0.5rem',\n                      borderBottom: '1px solid #e0e0e0',\n                    }}\n                  >\n                    <strong>{dataset.name}</strong> - {dataset.description}{' '}\n                    <a\n                      href={dataset.link}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      style={{ color: '#007bff' }}\n                    >\n                      [Link]\n                    </a>\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        ))}\n      </section>\n\n      {/* Data Reports Section */}\n      {dataCatalogue.dataReports && (\n        <section style={{ marginTop: '2rem' }}>\n          <h3>{dataCatalogue.dataReports.name}</h3>\n          <p>{dataCatalogue.dataReports.description}</p>\n          <p>\n            <a\n              href={dataCatalogue.dataReports.link}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              style={{ color: '#007bff' }}\n            >\n              [Link]\n            </a>\n          </p>\n        </section>\n      )}\n\n      {/* Data APIs Section */}\n      {dataCatalogue.dataAPIs && (\n        <section style={{ marginTop: '2rem' }}>\n          <h3>{dataCatalogue.dataAPIs.name}</h3>\n          <p>{dataCatalogue.dataAPIs.description}</p>\n          <ul style={{ listStyleType: 'none', paddingLeft: 0 }}>\n            {dataCatalogue.dataAPIs.endpoints.map((endpoint, index) => (\n              <li\n                key={index}\n                style={{\n                  margin: '0.5rem 0',\n                  padding: '0.5rem',\n                  borderBottom: '1px solid #e0e0e0',\n                }}\n              >\n                <strong>{endpoint.endpoint}</strong>: {endpoint.description}\n              </li>\n            ))}\n          </ul>\n          <p>\n            <a\n              href={dataCatalogue.dataAPIs.link}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              style={{ color: '#007bff' }}\n            >\n              [Link]\n            </a>\n          </p>\n        </section>\n      )}\n    </div>\n  );\n}\n\nexport default DataCatalogue;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}