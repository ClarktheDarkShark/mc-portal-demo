{"ast":null,"code":"import _objectSpread from\"/Users/christopherclark/Library/Mobile Documents/com~apple~CloudDocs/_Chris_Docs/Coding/mc-portal-demo/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// client/src/pages/DataCatalogue.js\nimport React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function DataCatalogue(){const[dataCatalogue,setDataCatalogue]=useState(null);// Track which categories are expanded (true) or collapsed (false)\nconst[openCategories,setOpenCategories]=useState({});useEffect(()=>{fetch('/api/repository/data').then(res=>res.json()).then(data=>{setDataCatalogue(data);// Initialize openCategories state to have all categories collapsed\nconst initialOpenState={};data.dataRepository.categories.forEach((_,index)=>{initialOpenState[index]=false;});setOpenCategories(initialOpenState);}).catch(err=>console.error('Error fetching Data Catalogue:',err));},[]);const toggleCategory=index=>{setOpenCategories(prev=>_objectSpread(_objectSpread({},prev),{},{[index]:!prev[index]}));};if(!dataCatalogue){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading Data Catalogue...\"});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'2rem',fontFamily:'Arial, sans-serif',maxWidth:'1200px',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:'center',marginBottom:'2rem'},children:\"Data Catalogue\"}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{borderBottom:'2px solid #007bff',paddingBottom:'0.5rem'},children:\"Data Repository Categories\"}),dataCatalogue.dataRepository.categories.map((cat,catIndex)=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem',border:'1px solid #ccc',borderRadius:'8px',padding:'1rem',boxShadow:'0 4px 8px rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:0},children:cat.name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleCategory(catIndex),style:{background:'#007bff',color:'#fff',border:'none',borderRadius:'4px',padding:'0.5rem 1rem',cursor:'pointer'},children:openCategories[catIndex]?'Hide Datasets':'Show Datasets'})]}),/*#__PURE__*/_jsx(\"p\",{children:cat.description}),openCategories[catIndex]&&/*#__PURE__*/_jsx(\"ul\",{style:{listStyleType:'none',paddingLeft:0},children:cat.datasets.map((dataset,dsIndex)=>/*#__PURE__*/_jsxs(\"li\",{style:{margin:'0.5rem 0',padding:'0.5rem',borderBottom:'1px solid #e0e0e0'},children:[/*#__PURE__*/_jsx(\"strong\",{children:dataset.name}),\" - \",dataset.description,' ',/*#__PURE__*/_jsx(\"a\",{href:dataset.link,target:\"_blank\",rel:\"noopener noreferrer\",style:{color:'#007bff'},children:\"[Link]\"})]},dsIndex))})]},catIndex))]}),dataCatalogue.dataReports&&/*#__PURE__*/_jsxs(\"section\",{style:{marginTop:'2rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{borderBottom:'2px solid #007bff',paddingBottom:'0.5rem'},children:dataCatalogue.dataReports.name}),/*#__PURE__*/_jsx(\"p\",{children:dataCatalogue.dataReports.description}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"a\",{href:dataCatalogue.dataReports.link,target:\"_blank\",rel:\"noopener noreferrer\",style:{color:'#007bff'},children:\"[Link]\"})})]}),dataCatalogue.dataAPIs&&/*#__PURE__*/_jsxs(\"section\",{style:{marginTop:'2rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{borderBottom:'2px solid #007bff',paddingBottom:'0.5rem'},children:dataCatalogue.dataAPIs.name}),/*#__PURE__*/_jsx(\"p\",{children:dataCatalogue.dataAPIs.description}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyleType:'none',paddingLeft:0},children:dataCatalogue.dataAPIs.endpoints.map((endpoint,index)=>/*#__PURE__*/_jsxs(\"li\",{style:{margin:'0.5rem 0',padding:'0.5rem',borderBottom:'1px solid #e0e0e0'},children:[/*#__PURE__*/_jsx(\"strong\",{children:endpoint.endpoint}),\": \",endpoint.description]},index))}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"a\",{href:dataCatalogue.dataAPIs.link,target:\"_blank\",rel:\"noopener noreferrer\",style:{color:'#007bff'},children:\"[Link]\"})})]})]});}export default DataCatalogue;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","DataCatalogue","dataCatalogue","setDataCatalogue","openCategories","setOpenCategories","fetch","then","res","json","data","initialOpenState","dataRepository","categories","forEach","_","index","catch","err","console","error","toggleCategory","prev","_objectSpread","children","style","padding","fontFamily","maxWidth","margin","textAlign","marginBottom","borderBottom","paddingBottom","map","cat","catIndex","border","borderRadius","boxShadow","display","justifyContent","alignItems","cursor","name","onClick","background","color","description","listStyleType","paddingLeft","datasets","dataset","dsIndex","href","link","target","rel","dataReports","marginTop","dataAPIs","endpoints","endpoint"],"sources":["/Users/christopherclark/Library/Mobile Documents/com~apple~CloudDocs/_Chris_Docs/Coding/mc-portal-demo/client/src/pages/DataCatalogue.js"],"sourcesContent":["// client/src/pages/DataCatalogue.js\n\nimport React, { useEffect, useState } from 'react';\n\nfunction DataCatalogue() {\n  const [dataCatalogue, setDataCatalogue] = useState(null);\n  // Track which categories are expanded (true) or collapsed (false)\n  const [openCategories, setOpenCategories] = useState({});\n\n  useEffect(() => {\n    fetch('/api/repository/data')\n      .then((res) => res.json())\n      .then((data) => {\n        setDataCatalogue(data);\n\n        // Initialize openCategories state to have all categories collapsed\n        const initialOpenState = {};\n        data.dataRepository.categories.forEach((_, index) => {\n          initialOpenState[index] = false;\n        });\n        setOpenCategories(initialOpenState);\n      })\n      .catch((err) => console.error('Error fetching Data Catalogue:', err));\n  }, []);\n\n  const toggleCategory = (index) => {\n    setOpenCategories((prev) => ({\n      ...prev,\n      [index]: !prev[index],\n    }));\n  };\n\n  if (!dataCatalogue) {\n    return <div>Loading Data Catalogue...</div>;\n  }\n\n  return (\n    <div style={{ padding: '2rem', fontFamily: 'Arial, sans-serif', maxWidth: '1200px', margin: '0 auto' }}>\n      <h2 style={{ textAlign: 'center', marginBottom: '2rem' }}>Data Catalogue</h2>\n\n      {/* Data Repository Section */}\n      <section>\n        <h3 style={{ borderBottom: '2px solid #007bff', paddingBottom: '0.5rem' }}>Data Repository Categories</h3>\n        {dataCatalogue.dataRepository.categories.map((cat, catIndex) => (\n          <div\n            key={catIndex}\n            style={{\n              marginBottom: '1rem',\n              border: '1px solid #ccc',\n              borderRadius: '8px',\n              padding: '1rem',\n              boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\n            }}\n          >\n            <div\n              style={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                cursor: 'pointer',\n              }}\n            >\n              <h4 style={{ margin: 0 }}>{cat.name}</h4>\n              <button\n                onClick={() => toggleCategory(catIndex)}\n                style={{\n                  background: '#007bff',\n                  color: '#fff',\n                  border: 'none',\n                  borderRadius: '4px',\n                  padding: '0.5rem 1rem',\n                  cursor: 'pointer',\n                }}\n              >\n                {openCategories[catIndex] ? 'Hide Datasets' : 'Show Datasets'}\n              </button>\n            </div>\n            <p>{cat.description}</p>\n            {openCategories[catIndex] && (\n              <ul style={{ listStyleType: 'none', paddingLeft: 0 }}>\n                {cat.datasets.map((dataset, dsIndex) => (\n                  <li\n                    key={dsIndex}\n                    style={{\n                      margin: '0.5rem 0',\n                      padding: '0.5rem',\n                      borderBottom: '1px solid #e0e0e0',\n                    }}\n                  >\n                    <strong>{dataset.name}</strong> - {dataset.description}{' '}\n                    <a\n                      href={dataset.link}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      style={{ color: '#007bff' }}\n                    >\n                      [Link]\n                    </a>\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        ))}\n      </section>\n\n      {/* Data Reports Section */}\n      {dataCatalogue.dataReports && (\n        <section style={{ marginTop: '2rem' }}>\n          <h3 style={{ borderBottom: '2px solid #007bff', paddingBottom: '0.5rem' }}>{dataCatalogue.dataReports.name}</h3>\n          <p>{dataCatalogue.dataReports.description}</p>\n          <p>\n            <a\n              href={dataCatalogue.dataReports.link}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              style={{ color: '#007bff' }}\n            >\n              [Link]\n            </a>\n          </p>\n        </section>\n      )}\n\n      {/* Data APIs Section */}\n      {dataCatalogue.dataAPIs && (\n        <section style={{ marginTop: '2rem' }}>\n          <h3 style={{ borderBottom: '2px solid #007bff', paddingBottom: '0.5rem' }}>{dataCatalogue.dataAPIs.name}</h3>\n          <p>{dataCatalogue.dataAPIs.description}</p>\n          <ul style={{ listStyleType: 'none', paddingLeft: 0 }}>\n            {dataCatalogue.dataAPIs.endpoints.map((endpoint, index) => (\n              <li\n                key={index}\n                style={{\n                  margin: '0.5rem 0',\n                  padding: '0.5rem',\n                  borderBottom: '1px solid #e0e0e0',\n                }}\n              >\n                <strong>{endpoint.endpoint}</strong>: {endpoint.description}\n              </li>\n            ))}\n          </ul>\n          <p>\n            <a\n              href={dataCatalogue.dataAPIs.link}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              style={{ color: '#007bff' }}\n            >\n              [Link]\n            </a>\n          </p>\n        </section>\n      )}\n    </div>\n  );\n}\n\nexport default DataCatalogue;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}